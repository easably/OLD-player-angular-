<div class="controls">
    <div class="control" (click)="togglePause($event)">
        <svg-icon
            [src]="
                'assets/images/' +
                (mpvService.state.pause ? 'play.svg' : 'pause.svg')
            "
            [svgStyle]="{ 'width.%': 100, 'height.%': 100 }"
        ></svg-icon>
    </div>
    <div class="time">
        <span class="time-current">{{
            secondToHms(mpvService.state["time-pos"])
        }}</span>
        <span> / </span>
        <span class="time-duration">{{
            secondToHms(mpvService.state.duration)
        }}</span>
    </div>
    <input
        class="seek"
        type="range"
        [min]="0"
        [step]="0.01"
        [max]="mpvService.state.duration"
        [value]="mpvService.state['time-pos']"
        (change)="handleSeek($event)"
        (mousedown)="handleSeekMouseDown()"
        (mouseup)="handleSeekMouseUp($event)"
        (mousemove)="handleMouseMove($event)"
        (mouseenter)="popupTime.show = true"
        (mouseleave)="popupTime.show = false"
        [attr.style]="
            sanitizer.bypassSecurityTrustStyle(
                '--lineBackground: ' + getGradientForRange()
            )
        "
    />
    <div
        class="popupTime"
        *ngIf="popupTime.show && popupTime.time"
        [ngStyle]="{ top: popupTime.y + 'px', left: popupTime.x + 'px' }"
    >
        {{ popupTime.time ? secondToHms(popupTime.time) : "" }}
    </div>
    <div class="control" (click)="handleFullscreen($event)">
        <svg-icon
            [src]="
                'assets/images/' +
                (mpvService.state.fullscreen
                    ? 'fullscreen-back.svg'
                    : 'fullscreen.svg')
            "
            [svgStyle]="{ 'width.%': 100, 'height.%': 100 }"
        ></svg-icon>
    </div>
</div>
